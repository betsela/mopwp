!function(){"use strict";window.kadenceConversions={cache:{},items:JSON.parse(kadenceConversionsConfig.items),wooLiveItems:{},focusableElements:["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],getOffset:function(e){if(e instanceof HTMLElement){var n=e.getBoundingClientRect();return{top:n.top+window.pageYOffset,left:n.left+window.pageXOffset}}return{top:null,left:null}},createCookie:function(e,n,o,i){var t="";if(o){var s=new Date;"minutes"==i?s.setTime(s.getTime()+60*o*1e3):"hours"==i?s.setTime(s.getTime()+60*o*60*1e3):s.setTime(s.getTime()+24*o*60*60*1e3),t="; expires="+s.toGMTString()}document.cookie=e+"="+n+t+"; path=/"},getCookie(e){var n=("; "+document.cookie).split("; "+e+"=");return 2==n.length?n.pop().split(";").shift():""},findOne:(e,n)=>n.some((function(n){return e.indexOf(n)>=0})),conversionExit:function(e){var n=document.getElementById("kadence-conversion-"+e.post_id);if("popup"===e.type&&(window.kadenceConversions.cache.active=null),n){if("popup"===e.type&&(document.removeEventListener("keydown",window.kadenceConversions.cache[e.post_id].exitKeyListener,!1),document.removeEventListener("keydown",window.kadenceConversions.cache[e.post_id].trapFocus,!1)),n.removeEventListener("click",window.kadenceConversions.cache[e.post_id].exitListener,!1),"button"===e.goal){var o=n.querySelectorAll("a");o.length&&o.forEach((function(n){n.removeEventListener("click",window.kadenceConversions.cache[e.post_id].goalListener,!1)}))}else window.document.body.removeEventListener("kb-form-success",window.kadenceConversions.cache[e.post_id].goalListener,!1);n.classList.add("kc-closing-visible"),e.repeat_control&&!window.kadenceConversions.cache[e.post_id].goal&&e.close_repeat&&window.kadenceConversions.createCookie(e.campaign_id,!0,e.close_repeat,"days"),"banner"===e.type?(e.offset&&"top"===e.offset?(document.documentElement.style.paddingTop="0px",setTimeout((function(){document.documentElement.classList.remove("kc-banner-top-offset")}),350)):e.offset&&"bottom"===e.offset&&(document.documentElement.style.paddingBottom="0px"),setTimeout((function(){n.classList.remove("kc-visible"),n.classList.remove("kc-closing-visible")}),350)):(setTimeout((function(){n.classList.remove("kc-visible")}),350),setTimeout((function(){n.classList.remove("kc-closing-visible")}),400))}},trackConversionConverted:function(e){"true"===kadenceConversionsConfig.gtag&&"function"==typeof gtag&&e.tracking&&gtag("event","Conversion Goal",{event_category:"KadenceConversions",event_label:e.post_title,conversion_id:e.post_id}),"true"===kadenceConversionsConfig.analytics&&e.tracking&&(window.kadenceConversions.cache[e.post_id].request=new XMLHttpRequest,window.kadenceConversions.cache[e.post_id].request.open("POST",kadenceConversionsConfig.ajax_url,!0),window.kadenceConversions.cache[e.post_id].request.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),window.kadenceConversions.cache[e.post_id].request.onload=function(){this.status>=200&&this.status<400||(console.log("Converted Tracking Event, status error"),console.log(this.response))},window.kadenceConversions.cache[e.post_id].request.onerror=function(){console.log("Converted Tracking Event, connection error")},window.kadenceConversions.cache[e.post_id].request.send("action=kadence_conversion_converted&nonce="+kadenceConversionsConfig.ajax_nonce+"&campaign_id="+e.campaign_id+"&post_id="+e.post_id+"&type="+e.type+"&goal="+e.goal))},goalListener:function(e){return function(n){var o=!1;"button"===e.goal?(e.goal_class&&n.target.classList.contains(e.goal_class)||n.currentTarget.classList.contains("button")||n.currentTarget.classList.contains("kt-button"))&&(o=!0):("kb-form-success"===n.type||"fluentform_submission_success"===n.type)&&(o=!0),o&&(window.kadenceConversions.trackConversionConverted(e),window.kadenceConversions.cache[e.post_id].goal=!0,e.repeat_control&&window.kadenceConversions.createCookie(e.campaign_id,!0,e.convert_repeat,"days"),e.goal_close&&window.kadenceConversions.conversionExit(e))}},exitKeyListener:function(e){return function(n){27===n.keyCode&&(n.preventDefault(),window.kadenceConversions.conversionExit(e))}},exitListener:function(e){return function(n){(n.target.classList.contains("kadence-conversions-close")||"kadence-conversions-close"===n.target.className||e.overlay_close&&"kadence-conversion-overlay"===n.target.className)&&(n.preventDefault(),window.kadenceConversions.conversionExit(e))}},trapFocus:function(e){return function(n){if("Tab"===n.key||9===n.keyCode){var o=document.getElementById("kadence-conversion-"+e.post_id),i=o.querySelectorAll(window.kadenceConversions.focusableElements)[0],t=o.querySelectorAll(window.kadenceConversions.focusableElements),s=t[t.length-1];n.shiftKey?document.activeElement===i&&(s.focus(),n.preventDefault()):document.activeElement===s&&(i.focus(),n.preventDefault())}}},trackConversionTriggered:function(e){"true"===kadenceConversionsConfig.gtag&&"function"==typeof gtag&&e.tracking&&gtag("event","Conversion Viewed",{event_category:"KadenceConversions",event_label:e.post_title,conversion_id:e.post_id}),"true"===kadenceConversionsConfig.analytics&&e.tracking&&(window.kadenceConversions.cache[e.post_id].request=new XMLHttpRequest,window.kadenceConversions.cache[e.post_id].request.open("POST",kadenceConversionsConfig.ajax_url,!0),window.kadenceConversions.cache[e.post_id].request.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),window.kadenceConversions.cache[e.post_id].request.onload=function(){this.status>=200&&this.status<400||(console.log("Show Tracking Event, status error"),console.log(this.response))},window.kadenceConversions.cache[e.post_id].request.onerror=function(){},window.kadenceConversions.cache[e.post_id].request.send("action=kadence_conversion_triggered&nonce="+kadenceConversionsConfig.ajax_nonce+"&campaign_id="+e.campaign_id+"&post_id="+e.post_id+"&type="+e.type+"&goal="+e.goal))},triggerConversion:function(e){if("popup"===e.type){if(window.kadenceConversions.cache.active)return;window.kadenceConversions.cache.active=e.post_id}var n=document.getElementById("kadence-conversion-"+e.post_id);if("banner"===e.type&&(e.offset&&"top"===e.offset?(document.documentElement.classList.add("kc-banner-top-offset"),document.documentElement.style.paddingTop=n.offsetHeight+"px"):e.offset&&"bottom"===e.offset&&(document.documentElement.style.paddingBottom=n.offsetHeight+"px")),n){if(n.classList.add("kc-visible"),window.kadenceConversions.trackConversionTriggered(e),window.kadenceConversions.cache[e.post_id].exitListener=window.kadenceConversions.exitListener(e),window.kadenceConversions.cache[e.post_id].goalListener=window.kadenceConversions.goalListener(e),n.addEventListener("click",window.kadenceConversions.cache[e.post_id].exitListener,!1),"popup"===e.type&&(window.kadenceConversions.cache[e.post_id].exitKeyListener=window.kadenceConversions.exitKeyListener(e),document.addEventListener("keydown",window.kadenceConversions.cache[e.post_id].exitKeyListener,!1)),"popup"===e.type){var o=n.querySelectorAll(window.kadenceConversions.focusableElements)[0];setTimeout((function(){o.focus()}),600),window.kadenceConversions.cache[e.post_id].trapFocus=window.kadenceConversions.trapFocus(e),document.addEventListener("keydown",window.kadenceConversions.cache[e.post_id].trapFocus,!1)}switch(e.goal){case"button":if(e.goal_class)var i=n.querySelectorAll("."+e.goal_class);else i=n.querySelectorAll("a");if(!i.length)return;i.forEach((function(n){n.addEventListener("click",window.kadenceConversions.cache[e.post_id].goalListener,!1)}));break;case"none":break;default:n.querySelector("form.frm-fluent-form")&&window.jQuery&&jQuery(n).find("form.frm-fluent-form").on("fluentform_submission_success",(function(n){window.kadenceConversions.cache[e.post_id].goalListener(n)})),window.document.body.addEventListener("kb-form-success",window.kadenceConversions.cache[e.post_id].goalListener,!1)}}},initConversion:function(e){if(e.repeat_control&&window.kadenceConversions.getCookie(e.campaign_id))return;if(e.pageViews){var n=parseInt(window.kadenceConversions.getCookie("page-views-"+e.campaign_id),10);if(n||(n=0),e.pageViews>=n)return n++,void window.kadenceConversions.createCookie("page-views-"+e.campaign_id,n,1,"days")}if(e.expires){var o=(new Date).getTimezoneOffset()/60*-1,i=new Date;if(Number(e.time_offset)===o)var t=new Date(e.expires);else{var s=o-e.time_offset,r=new Date(e.expires);t=new Date(r.getTime()+60*s*60*1e3)}if((c=t.getTime()-i.getTime())&&c<0)return}if(e.starts){var c;o=(new Date).getTimezoneOffset()/60*-1,i=new Date;if(Number(e.time_offset)===o)var d=new Date(e.starts);else{s=o-e.time_offset;var a=new Date(e.starts);d=new Date(a.getTime()+60*s*60*1e3)}if((c=i.getTime()-d.getTime())&&c<0)return}if(e.recurring_days&&e.recurring_start&&e.recurring_stop){var w=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][(i=new Date).getDay()];if(!e.recurring_days.includes(w))return;var v=String(i.getDate()).padStart(2,"0"),l=String(i.getMonth()+1).padStart(2,"0"),u=i.getFullYear()+"-"+l+"-"+v;o=(new Date).getTimezoneOffset()/60*-1;if(Number(e.time_offset)===o){d=new Date(u+" "+e.recurring_start);var f=new Date(u+" "+e.recurring_stop)}else{s=o-e.time_offset,a=new Date(u+" "+e.recurring_start);var p=new Date(u+" "+e.recurring_stop);d=new Date(a.getTime()+60*s*60*1e3),f=new Date(p.getTime()+60*s*60*1e3)}var k=i.getTime()-d.getTime();if(k&&k<0)return;var C=f.getTime()-i.getTime();if(C&&C<0)return}if(e.device&&e.device.length){var g=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(!e.device.includes("mobile")&&g<767)return;if(!e.device.includes("tablet")&&g>=768&&g<=1024)return;if(!e.device.includes("desktop")&&g>1025)return}if(e.queryStrings&&e.queryStrings.length){var m=!1,_=new URLSearchParams(window.location.search);if(Object.keys(e.queryStrings).forEach((function(n){var o=e.queryStrings[n].split("=");2===o.length&&o[1]===_.get(o[0])&&(m=!0)})),!m)return}if(e.referrer&&e.referrer.length){if(!document.referrer.split("/")[2])return;var h=document.referrer.split("/")[2].replace("www.","");m=!1;if(Object.keys(e.referrer).forEach((function(n){e.referrer[n]===h&&(m=!0)})),!m)return}if(!e.cookieCheck||window.kadenceConversions.getCookie(e.cookieCheck)){if(kadenceConversionsConfig.woocommerce&&e.products){if(!window.kadenceConversions.findOne(kadenceConversionsConfig.cartProducts,e.products))return void(void 0===window.kadenceConversions.wooLiveItems[e.post_id]&&(window.kadenceConversions.wooLiveItems[e.post_id]=e));void 0!==window.kadenceConversions.wooLiveItems[e.post_id]&&delete window.kadenceConversions.wooLiveItems[e.post_id]}if(kadenceConversionsConfig.woocommerce&&e.preventProducts){if(window.kadenceConversions.findOne(kadenceConversionsConfig.cartProducts,e.preventProducts))return void(void 0===window.kadenceConversions.wooLiveItems[e.post_id]&&(window.kadenceConversions.wooLiveItems[e.post_id]=e));void 0!==window.kadenceConversions.wooLiveItems[e.post_id]&&delete window.kadenceConversions.wooLiveItems[e.post_id]}if(kadenceConversionsConfig.woocommerce&&e.cartMin){if(void 0===window.kadenceConversions.wooLiveItems[e.post_id]&&(window.kadenceConversions.wooLiveItems[e.post_id]=e),parseInt(e.cartMin,10)>parseInt(kadenceConversionsConfig.cartTotal,10))return;void 0!==window.kadenceConversions.wooLiveItems[e.post_id]&&delete window.kadenceConversions.wooLiveItems[e.post_id]}if(kadenceConversionsConfig.woocommerce&&e.cartMax){if(void 0===window.kadenceConversions.wooLiveItems[e.post_id]&&(window.kadenceConversions.wooLiveItems[e.post_id]=e),parseInt(e.cartMax,10)<parseInt(kadenceConversionsConfig.cartTotal,10))return;void 0!==window.kadenceConversions.wooLiveItems[e.post_id]&&delete window.kadenceConversions.wooLiveItems[e.post_id]}switch(window.kadenceConversions.cache[e.post_id]={},e.trigger){case"exit_intent":window.kadenceConversions.cache[e.post_id].mouseListener=function(n){!n.toElement&&!n.relatedTarget&&n.clientY<10&&(window.kadenceConversions.triggerConversion(e),window.removeEventListener("mouseout",window.kadenceConversions.cache[e.post_id].mouseListener,!1))},window.addEventListener("mouseout",window.kadenceConversions.cache[e.post_id].mouseListener,!1);break;case"time":setTimeout((function(){window.kadenceConversions.triggerConversion(e)}),e.delay,e);break;case"scroll":window.kadenceConversions.cache[e.post_id].scrollListener=function(n){window.scrollY>=e.scroll&&(window.kadenceConversions.triggerConversion(e),window.removeEventListener("resize",window.kadenceConversions.cache[e.post_id].scrollListener,!1),window.removeEventListener("scroll",window.kadenceConversions.cache[e.post_id].scrollListener,!1),window.removeEventListener("load",window.kadenceConversions.cache[e.post_id].scrollListener,!1))},window.addEventListener("resize",window.kadenceConversions.cache[e.post_id].scrollListener,!1),window.addEventListener("scroll",window.kadenceConversions.cache[e.post_id].scrollListener,!1),window.addEventListener("load",window.kadenceConversions.cache[e.post_id].scrollListener,!1);break;case"content_end":var L=document.getElementById("kadence-conversion-end-of-content");L&&(window.kadenceConversions.cache[e.post_id].scrollListener=function(n){var o=window.kadenceConversions.getOffset(L).top;window.scrollY>=o-1e3&&(window.kadenceConversions.triggerConversion(e),window.removeEventListener("resize",window.kadenceConversions.cache[e.post_id].scrollListener,!1),window.removeEventListener("scroll",window.kadenceConversions.cache[e.post_id].scrollListener,!1),window.removeEventListener("load",window.kadenceConversions.cache[e.post_id].scrollListener,!1))},window.addEventListener("resize",window.kadenceConversions.cache[e.post_id].scrollListener,!1),window.addEventListener("scroll",window.kadenceConversions.cache[e.post_id].scrollListener,!1),window.addEventListener("load",window.kadenceConversions.cache[e.post_id].scrollListener,!1));break;case"load":window.kadenceConversions.triggerConversion(e);break;case"link":var y=document.querySelectorAll('[href="#'+e.unique_id+'"]');if(!y.length)return;y.forEach((function(n){n.addEventListener("click",(function(n){n.preventDefault(),window.kadenceConversions.triggerConversion(e)}))}))}}},initConversions:function(){window.kadenceConversions.items&&Object.keys(window.kadenceConversions.items).forEach((function(e){window.kadenceConversions.initConversion(window.kadenceConversions.items[e])}))},initCartWatch:function(){kadenceConversionsConfig.woocommerce&&window.jQuery&&jQuery(document.body).on("added_to_cart",(function(){window.kadenceConversions.initCartUpdate()}))},initCartUpdate:function(){if(0!==Object.keys(window.kadenceConversions.wooLiveItems).length){var e=new XMLHttpRequest;e.open("POST",kadenceConversionsConfig.ajax_url,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.onload=function(){if(this.status>=200&&this.status<400){var e=JSON.parse(this.response);e&&void 0!==e.data.cartTotal&&(kadenceConversionsConfig.cartTotal=e.data.cartTotal,kadenceConversionsConfig.cartProducts=e.data.cartProducts,Object.keys(window.kadenceConversions.wooLiveItems).forEach((function(e){window.kadenceConversions.initConversion(window.kadenceConversions.wooLiveItems[e])})))}},e.onerror=function(){console.log("could not connect")},e.send("action=kadence_conversions_get_updated_cart&nonce="+kadenceConversionsConfig.ajax_nonce)}},init:function(){window.kadenceConversions.initConversions(),window.kadenceConversions.initCartWatch()}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",window.kadenceConversions.init):window.kadenceConversions.init()}();